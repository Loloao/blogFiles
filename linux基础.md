# linux 基础
## 文件权限与目录配置
### 用户与用户组
常见权限有以下四种
1. 文件拥有者
2. 用户组，用于合作的权限
3. 其他人
4. root，啥都可以做
默认情况下，所有系统上的账号与一般身份用户，还有那个`root`相关信息，都在`/etc/passwd`这个文件内，个人密码则是记录在`/etc/shadow`这个文件内，所有用户组名记录在`/etc/group`

### 文件权限概念
`ls -al`可以查看目录下的文件属性和权限，包括隐藏文件。每个文件和目录都会显示 7 个字段，比如`-rw-r--r-- 1 root root 1864 May 4 18:01 initial-setup-ks.cfg`
- `-rw-r-r--`文件类型权限
  - 第一个字符代表文件是目录、文件或是链接文件等，`d`为目录，`-`为文件，`l`为链接，`d`为设备与设备文件，`s`为接口文件，`p`为数据输送文件
  - `r(read)`为读权限，可以查询该目录下的文件名数据。可以查看文件的文本内容
  - `w(write)`为写权限，具有改动该目录结构列表的权限，与该目录下的文件名的变动有关。可以编辑、新增或是修改该文件的内容，但不能删除
  - `x(execute)`为执行权限，用户能否进入该目录成为工作目录，比如`cd`。文件是否可悲系统执行
  - 三组权限描述的分别为文件拥有者、加入此用户组账号的权限、为本人且没有加入本用户组其他账号的权限
- `1`链接数，表示多少文件名链接到此节点`inode`
- `root`文件拥有者的账号
- `root`文件所属用户组
- `1864`文件大小，默认为`Bytes`
- `May 4 18:01`文件为创建日期或是最后被修改时间，如果想要看完整时间，可以使用`ls -l --full-time`
- `initial-setup-ks.cfg`文件名，如果文件之前有`.`则为隐藏文件，使用`ls -a`可查看

### 修改文件属性与权限
下面有几个常用与用户组、拥有者、各种身份的权限修改的命令
- `chgrp(change group)`修改文件用户组，用户组必须在`/etc/group`文件中
- `chown(change own)`修改文件拥有者，用户必须存在于`/etc/passwd`文件中
  - `-R`递归修改，所有子目录的文件都会被修改
  - `chown 用户:用户组 文件`可同时修改拥有者和用户组
  由于`cp`会复制执行者的属性与权限，所以有时需要修改权限
- `chmod`修改文件的权限，`SUD`、`SGID`、`SBIT`等的特性，我们可以通过数字来代表各个权限，`r:4 w:2 x:1`每种角色的权限是可以累加的，比如
`-rwxrwx---`的数字则是`770`
  - `-R`也是递归修改权限
  - 我们也可借由`u`、`g`、`o`来代表`user`、`group`、`other`三种角色，`a`则表示`all`，比如
  `-rwxr-xr--`可`chmod u=rwx,g=rx,o=r 文件名`来进行设置，同时有几种操作用于设置`+`加入，`-`移除、`=`设置

### 目录配置
Linux发行版它们的配置文件、执行文件、每个目录内放置的东西都是有一套标准依据
`FHS(Filesystem Hierarchy Standard`，它的主要目的是希望让用户可以了解到已安装软件通常放置于哪个目录下，一般来讲目录有下面四种交互作用的形态
| | 可分享 | 不可分享 |
| 不变 | /usr 软件存放处 | /etc 配置文件 |
| | /opt 第三方辅助软件 | /boot 启动与内核文件 |
| 可变动 | /var/mail 用户邮箱 | /var/run 程序相关 |
| | /var/spool/news 新闻组 | /var/lock 程序相关 |
- 可分享：可分享给其他系统挂载使用的目录
- 不可分享：自己机器上运行设备文件或是与程序有关的`socket`文件等
- 不变：有些数据是不经常变动的，比如函数库，文件说明，系统管理员所管理的主机服务配置文件等
- 可变动：经常修改单数据，比如日志文件、一般用户可自行接收的新闻组等
事实上，FHS 针对目录数架构仅定义出三层目录下面应该防止什么数据而已
- `/(root, 根目录)`：与启动系统相关
- `/usr(unix software resource)`：与软件安装、执行有关
- `/var(variable)`：与系统运行过程有关

## 文件与目录管理
### 目录的相关操作
- `cd(change directory)`：切换目录
- `pwd(print working directory)`：显示当前目录
- `mkdir(make directory)`：建立一个新目录
- `rmdir`：删除一个空目录

### $PATH
环境变量`PATH`可以让在输入命令时找到对应的命令文件，它是由一堆目录组成，每个目录中间用`:`隔开，每个目录有顺序之分。当执行目录时会根据`PATH`的设置去每个`PATH`定义的目录下查找文件名为命令名的可执行文件，先查找到的同名命令先被执行，另外要注意
- 不同身份用户默认的`PATH·不同，默认能够随意执行的命令也不同
- `PATH`是可以被修改单
- 使用绝对路径或是相对路径来指定某个命令的文件名执行会比查找`PATH`来的正确
- 命令应该要放到正确的目录下执行才会更方便
- 本目录`.`最好不要放到`PATH`当中

### ls
- `-a`全部文件，包括隐藏文件
- `-d`仅列出目录本身，而不是列出目录内地文件数据
- `-l`详细信息显示，包括文件的属性与权限等数据
- `-i`列出`inode`号码
- `-f`直接列出结果，而不进行排序
- `-S`根据文件大小列出文件
- `-t`根据时间排序

### cp、rm、mv
- `cp`命令除了单纯地复制之外，还可建立链接文件，比如两文件的新旧而予以更新
  - `-a`：相当于`-dr --preserve=all`的意思
